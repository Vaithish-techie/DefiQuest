:root {
    --bg-dark-primary: #0D0F1B;
    --bg-dark-secondary: #121524;
    --surface-glass: rgba(21, 24, 46, 0.6);
    --surface-elevation: #15182E;
    --primary-accent: #6A5DFF;
    --primary-accent-glow: rgba(106, 93, 255, 0.5);
    --primary-hover: #8679FF;
    --secondary-accent: #00D8A2;
    --secondary-accent-glow: rgba(0, 216, 162, 0.5);
    --secondary-hover: #26FFC9;
    --error-color: #FF5A5A;
    --text-primary: #E0E6F1;
    --text-secondary: #8A96B2;
    --text-highlight: #FFFFFF;
    --border-subtle: rgba(106, 93, 255, 0.2);
    --border-focus: #6A5DFF;
    --font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    --shadow-card: 0 10px 30px rgba(0, 0, 0, 0.2);
    --transition-smooth: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}
* { margin: 0; padding: 0; box-sizing: border-box; }
html { font-size: 16px; scroll-behavior: smooth; }
body {
    font-family: var(--font-family);
    background-color: var(--bg-dark-primary);
    background-image: radial-gradient(circle at 1% 1%, rgba(106, 93, 255, 0.15), transparent 30%);
    color: var(--text-primary);
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    display: grid;
    grid-template-columns: 260px 1fr;
    grid-template-rows: 70px 1fr;
    grid-template-areas: "header header" "sidebar main";
    height: 100vh;
}
#topnav {
    grid-area: header; position: fixed; width: 100%; height: 70px; z-index: 10;
    display: flex; align-items: center; justify-content: space-between;
    padding: 0 2rem; background: var(--surface-glass);
    backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--border-subtle);
}
.logo { font-size: 1.8rem; font-weight: 800; color: var(--text-highlight); letter-spacing: -1px; user-select: none; }
.nav-right { display: flex; align-items: center; gap: 1.2rem; }
#sidebar {
    grid-area: sidebar; position: fixed; top: 70px; left: 0; width: 260px; height: calc(100vh - 70px);
    background: var(--bg-dark-secondary); border-right: 1px solid var(--border-subtle);
    padding: 2rem 1rem; display: flex; flex-direction: column; gap: 1.5rem; transition: transform 0.3s ease;
}
#sidebar h2 { text-transform: uppercase; font-size: 0.8rem; font-weight: 600; color: var(--text-secondary); letter-spacing: 0.1em; padding: 0 0.5rem; }
.sidebar-nav { display: flex; flex-direction: column; gap: 0.5rem; }
#main-content { grid-area: main; padding: 3rem 2.5rem; overflow-y: auto; height: calc(100vh - 70px); }
.navmode-btn {
    background: var(--primary-accent); color: var(--text-highlight); border: none; border-radius: 10px;
    padding: 0.75rem 1.5rem; font-size: 0.95rem; font-weight: 600; cursor: pointer;
    transition: var(--transition-smooth); box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}
.navmode-btn:hover { background: var(--primary-hover); transform: translateY(-2px); box-shadow: 0 6px 20px var(--primary-accent-glow); }
.wallet-info { background: var(--surface-elevation); padding: 0.75rem 1rem; border-radius: 10px; font-family: monospace; font-size: 0.9rem; color: var(--secondary-accent); border: 1px solid var(--border-subtle); }
.hidden { display: none !important; }
.sidebar-nav button { background: transparent; border: none; color: var(--text-secondary); font-size: 1rem; font-weight: 600; text-align: left; padding: 0.9rem 1rem; border-radius: 8px; cursor: pointer; transition: var(--transition-smooth); }
.sidebar-nav button:hover { background: var(--surface-elevation); color: var(--text-primary); }
.sidebar-nav button.active { background: var(--primary-accent); color: var(--text-highlight); box-shadow: 0 0 15px var(--primary-accent-glow); }
.spinner { width: 20px; height: 20px; border: 3px solid var(--primary-accent-glow); border-top-color: var(--primary-accent); border-radius: 50%; animation: spin 1s linear infinite; margin-right: 0.5rem; }
@keyframes spin { to { transform: rotate(360deg); } }
.landing-wrap { max-width: 750px; margin: 1rem auto; text-align: center; padding: 2rem 0; }
h1, .landing-title {
    font-size: 3.2rem; font-weight: 800; color: var(--text-highlight); margin-bottom: 1rem; line-height: 1.2;
    background: linear-gradient(45deg, var(--primary-accent), var(--secondary-accent));
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
}
p, .landing-desc { font-size: 1.15rem; color: var(--text-secondary); line-height: 1.7; max-width: 600px; margin: 0 auto 3rem auto; }
.benefit-card { background: var(--surface-elevation); padding: 1.8rem; border-radius: 16px; border: 1px solid var(--border-subtle); margin-bottom: 1.5rem; text-align: left; transition: var(--transition-smooth); }
.benefit-card:hover { transform: translateY(-5px); box-shadow: var(--shadow-card); border-color: var(--border-focus); }
.benefit-card h3 { font-size: 1.4rem; color: var(--text-primary); margin-bottom: 0.75rem; }
.benefit-card p { font-size: 1rem; max-width: 100%; }
.loading-message { font-size: 1.1rem; font-weight: 700; color: var(--primary-accent); display: flex; justify-content: center; align-items: center; margin-top: 1rem; }
.modal { position: fixed; inset: 0; z-index: 1000; display: flex; align-items: center; justify-content: center; background: rgba(13, 15, 27, 0.5); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s ease; }
.modal:not(.hidden) { opacity: 1; visibility: visible; }
.modal-content { background: var(--surface-elevation); width: 90%; max-width: 650px; max-height: 90vh; overflow-y: auto; border-radius: 20px; border: 1px solid var(--border-subtle); box-shadow: 0 20px 50px rgba(0,0,0,0.4); padding: 2.5rem; position: relative; transform: scale(0.95); transition: transform 0.3s ease; }
.modal:not(.hidden) .modal-content { transform: scale(1); }
.modal-close { position: absolute; top: 1.5rem; right: 1.5rem; background: transparent; border: none; color: var(--text-secondary); font-size: 1.8rem; cursor: pointer; transition: var(--transition-smooth); }
.modal-close:hover { color: var(--error-color); transform: rotate(90deg); }
.quiz-title { text-align: center; font-size: 1.8rem; font-weight: 700; color: var(--text-highlight); margin-bottom: 2rem; text-transform: uppercase; letter-spacing: 1px; }
.quiz-question { margin-bottom: 2rem; }
.quiz-question h3 { font-size: 1.2rem; margin-bottom: 1.2rem; line-height: 1.6; color: var(--text-primary); }
.quiz-choices { display: flex; flex-direction: column; gap: 0.8rem; }
.choice-option { display: flex; align-items: center; gap: 1rem; background: var(--bg-dark-secondary); padding: 1rem 1.2rem; border-radius: 12px; border: 1px solid var(--border-subtle); cursor: pointer; transition: var(--transition-smooth); }
.choice-option:hover { background: var(--surface-elevation); border-color: var(--border-focus); }
.choice-option input[type="radio"] { appearance: none; min-width: 20px; width: 20px; height: 20px; border-radius: 50%; border: 2px solid var(--text-secondary); transition: var(--transition-smooth); }
.choice-option input[type="radio"]:checked { border-color: var(--primary-accent); background: var(--primary-accent); box-shadow: 0 0 10px var(--primary-accent-glow); }
.choice-option span { font-weight: 500; }
.quiz-submit { margin-top: 2.5rem; display: flex; justify-content: flex-end; }
.quiz-submit button { background: var(--secondary-accent); color: var(--bg-dark-primary); font-weight: 700; font-size: 1rem; padding: 0.8rem 2.5rem; border-radius: 12px; border: none; cursor: pointer; transition: var(--transition-smooth); }
.quiz-submit button:hover { background: var(--secondary-hover); transform: scale(1.05); box-shadow: 0 0 20px var(--secondary-accent-glow); }
.quiz-submit button:disabled { opacity: 0.5; cursor: wait; display: flex; align-items: center; }
.quiz-result { text-align: center; margin-top: 1.5rem; padding: 1rem; border-radius: 12px; font-weight: 600; font-size: 1.1rem; }
.success-message { background-color: rgba(0, 216, 162, 0.1); border: 1px solid var(--secondary-accent); color: var(--secondary-accent); }
.failure-message, .error-message { background-color: rgba(255, 90, 90, 0.1); border: 1px solid var(--error-color); color: var(--error-color); }
.profile-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 2rem; }
.stat-card { background: var(--surface-elevation); padding: 2rem; border-radius: 16px; border: 1px solid var(--border-subtle); text-align: center; }
.stat-card h3 { text-transform: uppercase; font-size: 0.9rem; font-weight: 600; color: var(--text-secondary); margin-bottom: 0.75rem; }
.stat-card .value { font-size: 3rem; font-weight: 700; color: var(--primary-accent); line-height: 1; }
.badges-panel, .ai-feedback, .nft-balances { grid-column: 1 / -1; background: var(--surface-elevation); padding: 2rem; border-radius: 16px; border: 1px solid var(--border-subtle); }
.badges-panel h3, .ai-feedback h3, .nft-balances h3 { font-size: 1.5rem; color: var(--text-primary); margin-bottom: 1.5rem; }
.ai-feedback p { font-size: 1.1rem; font-style: italic; color: var(--text-secondary); max-width: 100%; }
.nft-stats { display: flex; gap: 2rem; align-items: center; }
.nft-stat { display: flex; align-items: center; gap: 0.5rem; font-size: 1.1rem; font-weight: 600; color: var(--text-primary); padding: 0.75rem 1.25rem; background: var(--bg-dark-secondary); border-radius: 12px; border: 1px solid var(--border-subtle); }
.network-icon { font-size: 1.4rem; color: var(--primary-accent); }
.badges-grid { display: flex; flex-wrap: wrap; gap: 2rem; }
.badge-item { display: flex; flex-direction: column; align-items: center; gap: 0.75rem; width: 100px; }
.badge-item img { width: 90px; height: 90px; border-radius: 50%; object-fit: cover; border: 3px solid var(--border-focus); box-shadow: 0 0 20px var(--primary-accent-glow), var(--shadow-card); transition: var(--transition-smooth); }
.badge-item img:hover { transform: scale(1.1) rotate(5deg); }
.badge-item span { font-weight: 600; color: var(--text-primary); font-size: 0.9rem; }
.roadmap-header { text-align: center; margin-bottom: 3rem; }
.progress-bar-container { max-width: 600px; margin: 1.5rem auto 0; text-align: left; font-size: 0.9rem; font-weight: 600; color: var(--text-secondary); }
.progress-bar { width: 100%; height: 12px; background-color: var(--surface-elevation); border-radius: 12px; margin-top: 0.5rem; overflow: hidden; border: 1px solid var(--border-subtle); }
.progress-bar-fill { height: 100%; background: linear-gradient(90deg, var(--primary-accent), var(--secondary-accent)); border-radius: 12px; transition: width 0.5s ease-out; }
.roadmap-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; }
.quest-card { background: var(--surface-elevation); border: 1px solid var(--border-subtle); border-radius: 16px; padding: 1.5rem; display: flex; flex-direction: column; transition: all 0.3s ease; position: relative; overflow: hidden; }
.quest-title { font-size: 1.3rem; color: var(--text-primary); margin-bottom: 0.5rem; }
.quest-desc { color: var(--text-secondary); font-size: 1rem; line-height: 1.6; flex-grow: 1; }
.quest-footer { margin-top: 1.5rem; padding-top: 1rem; border-top: 1px solid var(--border-subtle); display: flex; justify-content: space-between; align-items: center; font-size: 0.9rem; font-weight: 600; color: var(--text-secondary); }
.quest-footer span:first-child { color: var(--primary-accent); }
.quest-status-icon { position: absolute; top: 1.2rem; right: 1.2rem; width: 24px; height: 24px; border-radius: 50%; background-size: 60%; background-position: center; background-repeat: no-repeat; }
.quest-card.available { cursor: pointer; border-color: var(--primary-accent); }
.quest-card.available:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.2), 0 0 20px var(--primary-accent-glow); }
.quest-card.available .quest-status-icon { background-color: rgba(106, 93, 255, 0.2); background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%236A5DFF'%3E%3Cpath d='M8 5v14l11-7z'/%3E%3C/svg%3E"); }
.quest-card.locked { opacity: 0.5; filter: grayscale(80%); }
.quest-card.locked .quest-status-icon { background-color: var(--bg-dark-secondary); background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%238A96B2'%3E%3Cpath d='M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2z'/%3E%3C/svg%3E"); }
.quest-card.completed { border-color: var(--secondary-accent); background: linear-gradient(rgba(0, 216, 162, 0.05), rgba(0, 216, 162, 0.05)); }
.quest-card.completed .quest-title { color: var(--secondary-accent); }
.quest-card.completed .quest-status-icon { background-color: rgba(0, 216, 162, 0.15); background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2300D8A2'%3E%3Cpath d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z'/%3E%3C/svg%3E"); }
@media (max-width: 900px) {
    body { grid-template-columns: 1fr; grid-template-rows: 70px 1fr; grid-template-areas: "header" "main"; }
    #sidebar { transform: translateX(-100%); }
    #main-content { padding: 2rem 1.5rem; }
}
@media (max-width: 600px) {
    h1, .landing-title { font-size: 2.5rem; }
    p, .landing-desc { font-size: 1rem; }
    .modal-content { padding: 2rem 1.5rem; }
    .quiz-title { font-size: 1.5rem; }
}
